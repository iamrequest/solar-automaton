[gd_scene load_steps=14 format=3 uid="uid://c5fn8yvjl8k2l"]

[ext_resource type="PackedScene" uid="uid://cw8aox52warf7" path="res://assets/prefabs/combat_zones/combat_zone_base.tscn" id="1_niayp"]
[ext_resource type="Material" uid="uid://dogmlywm000t1" path="res://assets/materials/env/whitebox.tres" id="2_06nnr"]
[ext_resource type="Script" path="res://assets/scripts/combat/health/hitbox.gd" id="3_awo6i"]
[ext_resource type="Material" uid="uid://dokgeocndpwt5" path="res://assets/materials/env/env-hitbox.tres" id="4_ud51o"]
[ext_resource type="PackedScene" uid="uid://43o1w333a816" path="res://assets/prefabs/enemies/enemy_slow-fire.tscn" id="5_onwmh"]
[ext_resource type="Script" path="res://assets/scripts/combat/enemies/path_mover.gd" id="6_a1c2g"]
[ext_resource type="PackedScene" uid="uid://cdgmcil1bee2l" path="res://assets/prefabs/enemies/enemy_activation_zone.tscn" id="6_u3roo"]

[sub_resource type="BoxMesh" id="BoxMesh_ajl6f"]

[sub_resource type="BoxShape3D" id="BoxShape3D_2jglj"]
size = Vector3(7.52656, 22.1584, 7.80971)

[sub_resource type="Curve3D" id="Curve3D_uk6y8"]
bake_interval = 14.64
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -10.7562, -20.9929, 8.23566, 0, 0, 0, 0, 0, 0, 5.33295, -14.9834, 6.40223, 0, 0, 0, 0, 0, 0, 14.2608, -17.9568, 5.67071),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve" id="Curve_5kq45"]
_data = [Vector2(0.0138889, 1), 0.0, 0.0, 0, 0, Vector2(0.502381, 1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="BoxMesh" id="BoxMesh_6m8xy"]

[sub_resource type="BoxMesh" id="BoxMesh_5k2qm"]

[node name="CombatZone" instance=ExtResource("1_niayp")]

[node name="CombatZoneEnd" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 122.897)

[node name="MeshInstance3D" type="MeshInstance3D" parent="MovingEnv" index="0"]
transform = Transform3D(3.06267, 0.711685, -1.29513, 1.16017, 2.35544, 3.11462, 0.519969, -9.44743, 0.678977, -6.22969, 5.3201, 89.8499)
mesh = SubResource("BoxMesh_ajl6f")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("2_06nnr")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="MovingEnv" index="1"]
transform = Transform3D(3.06267, 0.711685, -1.29513, 1.16017, 2.35544, 3.11462, 0.519969, -9.44743, 0.678977, -6.22968, 5.3201, 75.8499)
mesh = SubResource("BoxMesh_ajl6f")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("2_06nnr")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="MovingEnv" index="2"]
transform = Transform3D(3.26607, 1.35143, -0.357076, 0.242437, 2.05626, 3.35421, 0.519969, -9.44743, 0.678977, -1.95468, 8.24405, 86.4182)
mesh = SubResource("BoxMesh_ajl6f")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("2_06nnr")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="MovingEnv" index="3"]
transform = Transform3D(3.26607, 1.35143, -0.357076, 0.242437, 2.05626, 3.35421, 0.519969, -9.44743, 0.678977, -1.95468, 8.24405, 72.4182)
mesh = SubResource("BoxMesh_ajl6f")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("2_06nnr")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="MovingEnv" index="4"]
transform = Transform3D(3.22021, 1.83028, 0.508389, -0.596818, 1.64459, 3.33463, 0.519969, -9.44743, 0.678977, 3.32188, 8.24405, 81.8213)
mesh = SubResource("BoxMesh_ajl6f")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("2_06nnr")

[node name="MeshInstance3D6" type="MeshInstance3D" parent="MovingEnv" index="5"]
transform = Transform3D(2.9609, 2.18968, 1.34339, -1.39966, 1.12245, 3.09411, 0.519968, -9.44743, 0.678977, 9.01734, 7.15392, 73.8324)
mesh = SubResource("BoxMesh_ajl6f")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("2_06nnr")

[node name="MeshInstance3D7" type="MeshInstance3D" parent="MovingEnv" index="6"]
transform = Transform3D(3.22021, 1.83028, 0.508389, -0.596818, 1.64459, 3.33463, 0.519969, -9.44743, 0.678977, 3.32189, 8.24405, 67.8213)
mesh = SubResource("BoxMesh_ajl6f")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("2_06nnr")

[node name="MeshInstance3D8" type="MeshInstance3D" parent="MovingEnv" index="7"]
transform = Transform3D(2.9609, 2.18968, 1.34339, -1.39966, 1.12245, 3.09411, 0.519968, -9.44743, 0.678977, 9.01734, 7.15392, 59.8324)
mesh = SubResource("BoxMesh_ajl6f")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("2_06nnr")

[node name="Env Hitbox5" type="Area3D" parent="MovingEnv" index="8"]
transform = Transform3D(0.559921, 0, -9.78997e-08, 0, 0.559921, 0, 9.78997e-08, 0, 0.559921, -3.23384, -3.32938, 16.7538)
collision_layer = 768
collision_mask = 768
script = ExtResource("3_awo6i")
damage = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="MovingEnv/Env Hitbox5" index="0"]
shape = SubResource("BoxShape3D_2jglj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="MovingEnv/Env Hitbox5" index="1"]
transform = Transform3D(7.52656, 0, 0, 0, 22.1584, 0, 0, 0, 7.80971, 0, 0, 0)
material_override = ExtResource("4_ud51o")
mesh = SubResource("BoxMesh_ajl6f")
surface_material_override/0 = ExtResource("4_ud51o")

[node name="Env Hitbox6" type="Area3D" parent="MovingEnv" index="9"]
transform = Transform3D(0.559921, 0, -9.78997e-08, 0, 0.559921, 0, 9.78997e-08, 0, 0.559921, -1.81316, -3.32938, 26.0607)
collision_layer = 768
collision_mask = 768
script = ExtResource("3_awo6i")
damage = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="MovingEnv/Env Hitbox6" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.21488, 0, 0)
shape = SubResource("BoxShape3D_2jglj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="MovingEnv/Env Hitbox6" index="1"]
transform = Transform3D(7.52656, 0, 0, 0, 22.1584, 0, 0, 0, 7.80971, 8.16567, 0, 0)
material_override = ExtResource("4_ud51o")
mesh = SubResource("BoxMesh_ajl6f")
surface_material_override/0 = ExtResource("4_ud51o")

[node name="Env Hitbox7" type="Area3D" parent="MovingEnv" index="10"]
transform = Transform3D(0.559921, 0, -9.78997e-08, 0, 0.559921, 0, 9.78997e-08, 0, 0.559921, -3.23384, -3.32938, 1.92368)
collision_layer = 768
collision_mask = 768
script = ExtResource("3_awo6i")
damage = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="MovingEnv/Env Hitbox7" index="0"]
shape = SubResource("BoxShape3D_2jglj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="MovingEnv/Env Hitbox7" index="1"]
transform = Transform3D(7.52656, 0, 0, 0, 22.1584, 0, 0, 0, 7.80971, 0, 0, 0)
material_override = ExtResource("4_ud51o")
mesh = SubResource("BoxMesh_ajl6f")
surface_material_override/0 = ExtResource("4_ud51o")

[node name="Env Hitbox8" type="Area3D" parent="MovingEnv" index="11"]
transform = Transform3D(0.559921, 0, -9.78997e-08, 0, 0.559921, 0, 9.78997e-08, 0, 0.559921, -1.81315, -3.32938, 11.2309)
collision_layer = 768
collision_mask = 768
script = ExtResource("3_awo6i")
damage = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="MovingEnv/Env Hitbox8" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.2887, 0, 0)
shape = SubResource("BoxShape3D_2jglj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="MovingEnv/Env Hitbox8" index="1"]
transform = Transform3D(7.52656, 0, 0, 0, 22.1584, 0, 0, 0, 7.80971, 8.16567, 0, 0)
material_override = ExtResource("4_ud51o")
mesh = SubResource("BoxMesh_ajl6f")
surface_material_override/0 = ExtResource("4_ud51o")

[node name="Enemy7" parent="MovingEnv" index="12" instance=ExtResource("5_onwmh")]
transform = Transform3D(3.13916e-07, 0, 1, 0, 1, 0, -1, 0, 3.13916e-07, 2.45759, 2.58993, 115.873)

[node name="Enemy8" parent="MovingEnv" index="13" instance=ExtResource("5_onwmh")]
transform = Transform3D(3.13916e-07, 0, 1, 0, 1, 0, -1, 0, 3.13916e-07, 2.45759, 2.58993, 116.873)

[node name="Enemy9" parent="MovingEnv" index="14" instance=ExtResource("5_onwmh")]
transform = Transform3D(3.13916e-07, 0, 1, 0, 1, 0, -1, 0, 3.13916e-07, 2.45759, 0.589929, 113.873)

[node name="Enemy10" parent="MovingEnv" index="15" instance=ExtResource("5_onwmh")]
transform = Transform3D(3.13916e-07, 0, 1, 0, 1, 0, -1, 0, 3.13916e-07, 2.45759, 0.589929, 114.873)

[node name="Enemy11" parent="MovingEnv" index="16" instance=ExtResource("5_onwmh")]
transform = Transform3D(-1.62921e-07, 0, -1, 0, 1, 0, 1, 0, -1.62921e-07, -2.54241, 0.589929, 118.873)

[node name="Enemy12" parent="MovingEnv" index="17" instance=ExtResource("5_onwmh")]
transform = Transform3D(-1.62921e-07, 0, -1, 0, 1, 0, 1, 0, -1.62921e-07, -2.54241, 0.589929, 117.873)

[node name="Enemy13" parent="MovingEnv" index="18" instance=ExtResource("5_onwmh")]
transform = Transform3D(-1.62921e-07, 0, -1, 0, 1, 0, 1, 0, -1.62921e-07, -2.54241, 2.58993, 112.873)

[node name="Enemy14" parent="MovingEnv" index="19" instance=ExtResource("5_onwmh")]
transform = Transform3D(-1.62921e-07, 0, -1, 0, 1, 0, 1, 0, -1.62921e-07, -2.54241, 2.58993, 111.873)

[node name="Enemy3" parent="MovingEnv" index="20" instance=ExtResource("5_onwmh")]
transform = Transform3D(-1, 0, 1.50996e-07, 0, 1, 0, -1.50996e-07, 0, -1, 2.18339, 0.525771, 102.116)

[node name="EnemyActivationZone" parent="MovingEnv" index="21" node_paths=PackedStringArray("path_mover") instance=ExtResource("6_u3roo")]
path_mover = NodePath("../../StaticEnv/Path3D3")

[node name="EnemyActivationZone2" parent="MovingEnv" index="22" node_paths=PackedStringArray("path_mover") instance=ExtResource("6_u3roo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 37.5352)
path_mover = NodePath("../../StaticEnv/Path3D4")

[node name="EnemyActivationZone3" parent="MovingEnv" index="23" node_paths=PackedStringArray("path_mover") instance=ExtResource("6_u3roo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 39.5715)
path_mover = NodePath("../../StaticEnv/Path3D5")

[node name="Path3D3" type="Path3D" parent="StaticEnv" index="0" node_paths=PackedStringArray("target_node")]
transform = Transform3D(1, 0, 2.13163e-14, 0, 1, 0, -2.13163e-14, 0, 1, -3.77165, 14.957, -2.73057)
curve = SubResource("Curve3D_uk6y8")
script = ExtResource("6_a1c2g")
target_node = NodePath("Enemy")
speedCurve = SubResource("Curve_5kq45")

[node name="PathFollow3D" type="PathFollow3D" parent="StaticEnv/Path3D3" index="0"]
transform = Transform3D(0.113218, -0.345676, -0.931452, 0, 0.937488, -0.34791, 0.993537, 0.0393913, 0.106143, -10.7562, -20.9929, 8.23566)
loop = false

[node name="Enemy" parent="StaticEnv/Path3D3" index="1" instance=ExtResource("5_onwmh")]
transform = Transform3D(0.188342, 0, -0.982104, 0, 1, 0, 0.982104, 0, 0.188342, -10.7562, -20.9929, 8.23566)

[node name="Path3D4" type="Path3D" parent="StaticEnv" index="1" node_paths=PackedStringArray("target_node")]
transform = Transform3D(1, 0, 2.13163e-14, 0, 1, 0, -2.13163e-14, 0, 1, -3.77165, 14.957, -1.01174)
curve = SubResource("Curve3D_uk6y8")
script = ExtResource("6_a1c2g")
target_node = NodePath("Enemy")
speedCurve = SubResource("Curve_5kq45")

[node name="PathFollow3D" type="PathFollow3D" parent="StaticEnv/Path3D4" index="0"]
transform = Transform3D(0.113218, -0.345676, -0.931452, 0, 0.937488, -0.34791, 0.993537, 0.0393913, 0.106143, -10.7562, -20.9929, 8.23566)
loop = false

[node name="Enemy" parent="StaticEnv/Path3D4" index="1" instance=ExtResource("5_onwmh")]
transform = Transform3D(0.188342, 0, -0.982104, 0, 1, 0, 0.982104, 0, 0.188342, -10.7562, -20.9929, 8.23566)

[node name="Path3D5" type="Path3D" parent="StaticEnv" index="2" node_paths=PackedStringArray("target_node")]
transform = Transform3D(1, 0, 2.13163e-14, 0, 1, 0, -2.13163e-14, 0, 1, -3.77165, 14.957, 1.0533)
curve = SubResource("Curve3D_uk6y8")
script = ExtResource("6_a1c2g")
target_node = NodePath("Enemy")
speedCurve = SubResource("Curve_5kq45")

[node name="PathFollow3D" type="PathFollow3D" parent="StaticEnv/Path3D5" index="0"]
transform = Transform3D(0.113218, -0.345676, -0.931452, 0, 0.937488, -0.34791, 0.993537, 0.0393913, 0.106143, -10.7562, -20.9929, 8.23566)
loop = false

[node name="Enemy" parent="StaticEnv/Path3D5" index="1" instance=ExtResource("5_onwmh")]
transform = Transform3D(0.188342, 0, -0.982104, 0, 1, 0, 0.982104, 0, 0.188342, -10.7562, -20.9929, 8.23566)

[node name="MeshInstance3D" type="MeshInstance3D" parent="PersistentStaticEnv" index="0"]
transform = Transform3D(7.30542, 0, 0, 0, 7.30542, 0, 0, 0, 7.30542, 8, 0, 0)
mesh = SubResource("BoxMesh_6m8xy")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="PersistentStaticEnv" index="1"]
transform = Transform3D(7.30542, 0, 0, 0, 7.30542, 0, 0, 0, 7.30542, -8, 0, 0)
mesh = SubResource("BoxMesh_5k2qm")
